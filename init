#!/bin/bash

DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

# Add horn script
export PATH=$DIR/horn/build/bin/:$PATH
# Add pyunparse script
export PATH=$DIR/bin/:$PATH

# Add functions to easily compile
function compile {
  if [ -z $2 ]
  then
    g++ -g $1
  else
    g++ -g -o $2 $1
  fi
}

function run {
  make compile
  ./apyc --phase=1 -o out $1
  cat out
  echo
  rm out
}

function test {
  cd tests
  make
  cd $DIR
}
